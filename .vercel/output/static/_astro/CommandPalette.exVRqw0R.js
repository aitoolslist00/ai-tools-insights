import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.Cd_vQiNd.js";function N(){const[i,p]=a.useState(!1),[o,h]=a.useState(""),[d,c]=a.useState(0),[x,u]=a.useState([]),[l,m]=a.useState([]),g=a.useRef(null),y=[{id:"1",title:"Home",url:"/",type:"page",icon:"ðŸ "},{id:"2",title:"AI Tools",url:"/ai-tools",type:"page",icon:"âš¡"},{id:"3",title:"Blog",url:"/blog",type:"page",icon:"ðŸ“"},{id:"4",title:"About",url:"/about",type:"page",icon:"â„¹ï¸"},{id:"5",title:"Contact",url:"/contact",type:"page",icon:"ðŸ“§"}];return a.useEffect(()=>{const r=t=>{t.key==="k"&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),p(s=>!s)),t.key==="Escape"&&p(!1),i&&(t.key==="ArrowDown"&&(t.preventDefault(),c(s=>(s+1)%l.length)),t.key==="ArrowUp"&&(t.preventDefault(),c(s=>(s-1+l.length)%l.length)),t.key==="Enter"&&l[d]&&(t.preventDefault(),window.location.href=l[d].url))};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[i,l,d]),a.useEffect(()=>{i&&g.current&&g.current.focus()},[i]),a.useEffect(()=>{i&&(async()=>{try{const[t,s]=await Promise.all([fetch("/api/ai-tools"),fetch("/api/articles")]),f=await t.json(),b=await s.json(),k=f.map(n=>({id:`tool-${n.id}`,title:n.name,description:n.description,url:`/ai-tools/${n.slug}`,type:"tool",icon:"ðŸ”§"})),j=b.map(n=>({id:`article-${n.id}`,title:n.title,description:n.excerpt,url:`/blog/${n.slug}`,type:"article",icon:"ðŸ“„"}));u([...y,...k,...j])}catch{u(y)}})()},[i]),a.useEffect(()=>{if(o.trim()==="")m(x.slice(0,10));else{const r=x.filter(t=>{const s=o.toLowerCase();return t.title.toLowerCase().includes(s)||t.description?.toLowerCase().includes(s)}).slice(0,10);m(r),c(0)}},[o,x]),i?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[10vh] px-4 animate-fade-in",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>p(!1)}),e.jsxs("div",{className:"relative w-full max-w-2xl glass-morphism rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200/50 dark:border-gray-700/50",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{ref:g,type:"text",placeholder:"Search pages, tools, and articles...",value:o,onChange:r=>h(r.target.value),className:"flex-1 bg-transparent border-none outline-none text-base text-gray-900 dark:text-gray-100 placeholder-gray-500"}),e.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-gray-500 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded",children:"ESC"})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:l.length===0?e.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{children:"No results found"})]}):e.jsx("div",{className:"py-2",children:l.map((r,t)=>e.jsxs("a",{href:r.url,className:`flex items-start gap-3 px-4 py-3 transition-colors ${t===d?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,onMouseEnter:()=>c(t),children:[e.jsx("span",{className:"text-2xl mt-0.5",children:r.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:r.title}),r.description&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate mt-0.5",children:r.description})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 capitalize shrink-0",children:r.type})]},r.id))})}),e.jsx("div",{className:"px-4 py-2 border-t border-gray-200/50 dark:border-gray-700/50 bg-gray-50/50 dark:bg-gray-900/50",children:e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded",children:"â†‘"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded",children:"â†“"}),e.jsx("span",{children:"Navigate"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded",children:"â†µ"}),e.jsx("span",{children:"Select"})]})]})})]})]}):null}export{N as default};
